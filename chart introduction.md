
 <font color=#a65bcb size=4>前言</font>
 
 
  ![树状图](http://oyrqaw6tr.bkt.clouddn.com/%E6%95%B0%E6%8D%AE%E5%9B%BE%E8%A1%A8.bmp)  


要了解图表，不得不提的就是数据可视化（Data visualization）。什么是数据可视化？简单的说，就是将抽象的科学或者商业数据.用图表表示出来，帮助理解数据的意义的过程。那么图表，就是乘载数据可视化的主要工具。图表的类型并不是一成不变的，它也会随着数据复杂度的增加而在慢慢地改变，比如从单一的图表，转化成多种图表交叉组合而成的新型图表，这种新型图表能更加直接快速的体现出数据的意义和价值。当然，为了更好地了解图表，本文从最基本的6种图表切入，接着根据数据的维度和指标，从6个类别对图表做了一个较为完整的介绍，最后介绍了图表实现的常用软件。

 <font color=#a65bcb size=4>数据图表</font>
 <center> ![数据图表] (http://oyrqaw6tr.bkt.clouddn.com/1.png) </center> 


<font color=#a65bcb size=3 >1. 6种基本图表</font>


无论商业或是科学图表的展现形式有多么的花样繁华，但是绝大多数的图表都可以归结于6种基本形式：
柱状图，折线图，饼图，散点图，面积图和雷达图。这些图形基本涵盖了90%以上我们日常的图形化展示。

* 柱状图（Bar Graph）
 <center>  ![柱状图](http://oyrqaw6tr.bkt.clouddn.com/9999.png) </center> 


  **说明**：柱形图是使用柱形高度表示第二个变量数值的图表，主要用于数值大小比较和时间序列数据的推移。

 **优点**：柱状图利用柱子的高度，反映数据的差异。肉眼对高度差异很敏感，辨识效果非常好。

 **缺点**：只适用中小规模的数据集。
 
 **理解**：通常来说，柱状图的X轴是时间维，用户习惯性认为存在时间趋势。如果遇到X轴不是时间维的情况，建议用颜色区分每根柱子，改变用户对时间趋势的关注。

 **延伸**：柱形图系列还包括可以反映累加效果的堆积柱形图，反映比例的百分比堆积柱形图，反映多数据系列的三维柱形图等。条形图其实是柱形图的旋转图表，主要用于数值大小与比例的比较。对于第一个变量的文本名称较长时，通常会采用条形图。但是时序数据一般不会采用条形图。

* 折线图（Line Chart）

<center>  ![折线图](http://oyrqaw6tr.bkt.clouddn.com/3.png) </center> 

 **说明**：折线图是用直线段将各数据点连接起来而组成的图形，以折线方式显示数据的变化趋势。

 **特性**：折线图可以显示随时间（根据常用比例设置）而变化的连续数据，因此非常适用于显示在相等时间间隔下数据的趋势。

* 饼图（Pie Chart）

<center>  ![饼图](http://oyrqaw6tr.bkt.clouddn.com/4444.jpg) </center> 


 **说明**：饼形图是一种用于表示各个项目比例的基础性图表，主要用于展示数据系列的组成结构，或部分在整体中的比例。平时常用的饼形图类型包括二维和三维饼形图、圆环图。

 **注意**：饼图只适用于一组数据系列，圆环图可以适用于多组数据系列的比重关系绘制。

* 散点图（Scatter Diagram）

<center>  ![散点图](http://oyrqaw6tr.bkt.clouddn.com/5.png) </center> 

 **说明**：散点图也被称为“相关图”，是一种将两个变量分布在纵轴和横轴上，在它们的交叉位置绘制出点的图表，主要用于表示：两个变量的相关关系。散点图的x和y轴都为与两个变量数值大小分别对应的数值轴。通过曲线或折线两种类型将散点数据连接起来，可以表示x轴变量随y轴变量数值的变化趋势。

 **优点**：对于处理值的分布和数据点的分簇，散点图都很理想。如果数据集中包含非常多的点，那么散点图便是最佳图表类型。

  **缺点**：在点状图中显示多个序列看上去非常混乱。

  **延伸**：气泡图是散点图的变换类型，是一种通过改变各个数据标记大小，来表现第三个变量数值变化的图表。由于视觉难以分辨数据标记大小的差异，一般会在数据标记上添加第三个变量的数值作为数据标签。

* 面积图（Area Graph）

<center>  ![面积图](http://oyrqaw6tr.bkt.clouddn.com/6.png) </center> 

 **说明**：面积图是将折线图中折线数据系列下方部分填充颜色的图表，主要用于表示时序数据的大小与推移变化。

 **缺点**：对于多数据系列的数据一般采用折线图表示，因为多系列面积图存在遮掩的缺陷

 **延伸**：面积图还包括可以反映累加效果的堆积面积图，反映比例的百分比堆积面积图，反映多数据系列的三维面积图等。

* scatter diagram（Radar Map）

<center>  ![雷达图](http://oyrqaw6tr.bkt.clouddn.com/7777.png) </center> 

 **说明**：雷达图是用来比较每个数据相对中心的数值变化，将多个数据的特点以“蜘蛛网”形式呈现的图表，多用于倾向分析与重点把握。雷达图还包括带数据标记的雷达图、填充雷达图。

 **优势**：雷达图可以绘制数据的时间、季节等变化特性。

 **缺点**：用户解读有困难


<font color=#a65bcb size=3 >2. 6类图表</font>

维度选择是数据可视化过程中一个重要步骤。根据不同的维度，数据的图表展示方式也随之改变。通常根据6种维度，选择数据的可视化图表。这6种类型分别是：类别比较型，数据关系型，数据分布型，时间序列型，局部整体型，地理空间型。本文对每一种类型的图表做了相应的列举介绍，但并没有囊括所以图表。


2.1 类别比较型

类别比较型图表主要用于比较不同类别的数值，常用的图表有：条形图，柱形图，雷达图，树状图，桑基图，热力图，瀑布图。这里主要介绍桑基图，热力图和瀑布图。

* 桑基图（Sankey Diagram）

<center>  ![桑基图](http://oyrqaw6tr.bkt.clouddn.com/8888.jpg) </center> 

 **说明**：桑基图，即桑基能量分流图，也叫桑基能量平衡图。它是一种特定类型的流程图，图中延伸的分支的宽度对应数据流量的大小，比较适用于用户流量等数据的可视化分析。


* 热力图（Heat Map）

<center>  ![热力图](http://oyrqaw6tr.bkt.clouddn.com/9.jpg) </center> 


 **说明**：称热力图是以特殊高亮的形式显示用户页面点击位置或用户所在页面位置的图示。借助热图，可以直观地观察到用户的总体访问情况和点击偏好。


* 瀑布图（Waterfall Plot）

<center>  ![瀑布图](http://oyrqaw6tr.bkt.clouddn.com/10000.jpg) </center> 


  **适用**：采用绝对值与相对值结合的方式，适用于表达数个特定数值之间的数量变化关系，最终展示一个累计值。
 
 **优势**：展示两个数据点之间的演变过程，还可以展示数据是如何累计的。


2.2 数据关系型

数据关系型图表主要用于展示数据间的相关性或变化关系，常用的图表有：散点图，气泡图，折线图，网络图，韦恩图，树状图。这里主要介绍维恩图，树状图。

* 气泡图（Bubble Graph）

<center>  ![气泡图](http://oyrqaw6tr.bkt.clouddn.com/11.png) </center> 

 **说明**：气泡图是散点图的一种变体，通过每个点的面积大小，反映第三维。


* 韦恩图（Venn Diagram）

<center>  ![韦恩图](http://oyrqaw6tr.bkt.clouddn.com/1212.jpg) </center>


   **用途**：韦恩图可以用来表示多个集合之间的逻辑关系。

2.3 数据分布型
数据分布型图表主要用于展示数据的分布情况，常用的图表有：直方图，箱线图，金字塔图和核密度曲线图。这里主要介绍箱线图和核密度曲线图。

* 箱线图（Boxplot）

<center>  ![箱线图](http://oyrqaw6tr.bkt.clouddn.com/13.png) </center>


 **说明**：箱线图也称箱须图（Box-whisker Plot），它是用一组数据中的最小值、第一四分位数、中位数、第三四分位数和最大值来反映数据分布的中心位置和散布范围，可以粗略地看出数据是否具有对称性。通过将多组数据的箱线图画在同一坐标上，则可以清晰地显示各组数据的分布差异，为发现问题、改进流程提供线索。

 其中上下边界的计算公式如下：

 UpperLimit=Q3+1.5IQR=75%分位数+（75%分位数-25%分位数）*1.5

  LowerLimit=Q1－1.5IQR=25%分位数-（75%分位数-25%分位数）*1.5

 （将数据由小到大排序，处于中间的为中位数，即50%分位数，在75%位置的即为75%分位数或四分之三分位数——Q3，在25%位置的即为25%分位数或四分之一分位数——Q1）
 
 其中：
 Q1表示下四分位数，即25%分位数；
 Q3为上四分位数，即75%分位数；
 IQR表示上下四分位差，系数1.5是一种经过大量分析和经验积累起来的标准，一般情况下不做调整。
 分位数的参数可根据具体预警结果调整：25%和75%，是比较灵敏的条件，在这种条件下，多达25%的数据可以变得任意远而不会很大地扰动四分位。具体业务中可结合拟合结果自行调整为其他分位。



* 核密度曲线图（Kernel Density Estimation）

<center>  ![公式](http://oyrqaw6tr.bkt.clouddn.com/14.png) </center>


 **说明**：核密度图源于核密度估计。核密度估计其实是对直方图的一个自然拓展。

 **拓展**：核密度估计（Kernel density estimation），是一种用于估计概率密度函数的非参数方法，为独立同分布F的n个样本点，设其概率密度函数为f，核密度估计为以下：

<center>  ![公式](http://oyrqaw6tr.bkt.clouddn.com/1515.png) </center>


 K(.)为核函数（非负、积分为1，符合概率密度性质，并且均值为0）。有很多种核函数，uniform,triangular, biweight, triweight, Epanechnikov,normal等。

 h>0为一个平滑参数，称作带宽(bandwidth)，也看到有人叫窗口。

2.4 时间序列型
时间序列型图表主要用于追踪随时间的数据变化，常用的图表有：折线图，面积图，雷达图和甘特图。这里主要介绍甘特图和坡度图。

* 甘特图（Gantt Chart）

<center>  ![甘特图](http://oyrqaw6tr.bkt.clouddn.com/1616.jpg) </center>

 **说明**：甘特图，也称为条状图。是在1917年由亨利·甘特开发的，其内在思想简单，基本是一条线条图，横轴表示时间，纵轴表示活动(项目)，线条表示在整个期间上计划和实际的活动完成情况。它直观地表明任务计划在什么时候进行，及实际进展与计划要求的对比。


2.5 局部整体型

局部整体型图表主要用于追踪随时间的数据变化，常用的图表有：饼图，旭日图，沃罗诺伊图，南丁格尔玫瑰图。这里主要介绍旭日图。

* 旭日图（Sunburst Chart）

<center>  ![旭日图](http://oyrqaw6tr.bkt.clouddn.com/1717.jpg) </center>


 **说明**：旭日图是一种现代饼图，它超越传统的饼图和环图，能表达清晰的层级和归属关系，以父子层次结构来显示数据构成情况。旭日图中，离远点越近表示级别越高，相邻两层中，是内层包含外层的关系。



2.6 地理空间型

地理空间型图表主要用于地理空间的相关数据，常用的图表有：地理图，等位图，流量地图和等值区间地图。这里主要介绍地图。

* 地理图（Map）

<center>  ![地理图](http://oyrqaw6tr.bkt.clouddn.com/1818.png) </center>

 **说明**：一切和空间属性有关的分析都可以用到地理图。比如各地区销量，或者某商业区域店铺密集度等。

 地理图一定需要用到坐标维度。可以是经纬度、也可以是地域名称（上海市、北京市）。坐标粒度即能细到具体某条街道，也能宽到世界各国范围。

 **延伸**：除了经纬度，地理图的绘制离不开地图数据，POI是很重要的要素。POI是“Point of Information”的缩写，可以翻译成信息点，每个POI包含四方面信息，名称、类别、经度纬度、附近的酒店饭店商铺等信息。借助POI，才能按地理维度展现数据。

* 图表选择速查图

<center>  ![quick search handbook](http://oyrqaw6tr.bkt.clouddn.com/%E8%A1%A5%E5%85%85.jpg) </center>



<font color=#a65bcb size=4>常用图表绘制软件</font>


“工欲善其事，必先利其器”，初步了解了上述的图表后，没有一个合适的工具，依然很难图表化数据。这里，本文介绍了一些常用的绘图软件。不同学科（专业）的人员，往往会用不同的软件绘图。例如，工科专业的学生往往偏向于MATLAB，计算机专业的爱用Python，统计学科的人员常用R语言，医学背景的使用Graphpad等。当然，最常的论文图表绘制软件还有Excel和Origin。

3.1 无需编程的图表绘制软件

*  Excel

<center>  ![Excel](http://oyrqaw6tr.bkt.clouddn.com/1919.jpg) </center>


  Microsoft Excel是微软公司的办公软件Microsoft office的组件之一，是由Microsoft为Windows和Apple Macintosh操作系统的电脑而编写和运行的一款试算表软件。Excel 是微软办公套装软件的一个重要的组成部分，它可以进行各种数据的处理、统计分析和辅助决策操作，广泛地应用于管理、统计财经、金融等众多领域。

* Origin

<center>  ![Origin](http://oyrqaw6tr.bkt.clouddn.com/20.png) </center>

  Origin软件提供了非常丰富的数据分析功能，涵盖了几乎所有的常规分析操作。Origin所有的数据分析功能全部集中在 **Analysis**， **statistics**， **Image** 这三个菜单中。

   **Analysis**下包括Mathematics（数学运算）、Data Manipulation、Fitting（拟合）、Signal Processing（信号处理）和Spectroscope（光谱分析）等功能。

   **Statistics**下包括Descriptive Statistics（描述性统计）、Hypothesis Testing（假设检验）、ANOVA（方差分析）、Nonparametric Tests（非参数检验）、Survival Analysis（存活分析）、Power and Sanple Size（功效分析）、ROC Curve（操作特性曲线）。
   
   **Image**针对数字图像的处理操作，基于计算机图形学的图像运算，对数字图像进行一定的分析与变换。
 

* Tableau

<center>  ![Origin](http://oyrqaw6tr.bkt.clouddn.com/21.jpg) </center>



 Tableau 是桌面系统中最简单的商业智能工具软件之一，Tableau 没有强迫用户编写自定义代码，新的控制台也可完全自定义配置。在控制台上，不仅能够监测信息，而且还提供完整的分析能力。Tableau控制台灵活，具有高度的动态性。

 Tableau公司将数据运算与美观的图表完美地嫁接在一起。它的程序很容易上手，各公司可以用它将大量数据拖放到数字“画布”上，转眼间就能创建好各种图表。这一软件的理念是，界面上的数据越容易操控，公司对自己在所在业务领域里的所作所为到底是正确还是错误，就能了解得越透彻。

* GraphPad 

<center>  ![ GraphPad](http://oyrqaw6tr.bkt.clouddn.com/22.png) </center>

 GraphPad 集生物统计、曲线拟合和科技绘图于一体，其所具有的功能均非常实用和精炼，包括了一些特色的功能，如ROC曲线分析、Bland-Altman分析等；曲线拟合功能是GraphPad Prism超越其他统计软体的制胜法宝，GraphPad Prism的线性/非线性拟合功能使用操作极其方便，不仅内置了常见的回归模型，还专门内置了Aadvanced Rradioligand Bbinding, Bacterial Growth, 剂量反映曲线，峰拟合等数十个生物统计模组，GraphPad Prism的绘图功能也很具特色，无需专门绘製统计图形，只要输入资料，图表自动生成且随资料改变及时更新，非常方便实用。

3.2 需编程的图表绘制软件

* R语言

<center>  ![R语言](http://oyrqaw6tr.bkt.clouddn.com/2323.jpg) </center>



 相较于其他的所有软件，R的优势之一在于它是专为数据分析而设计的。R是用于统计分析、绘图的语言和操作环境。R是属于GNU系统的一个自由、免费、源代码开放的软件，它是一个用于统计计算和统计制图的优秀工具。R语言有一系列的数据可视化包（packages），包括lattice、leaflet、playwith 、atticist 、iplots 、ggvis、ggmaps，以及很流行的ggplot2包。

* Python

<center>  ![Python](http://oyrqaw6tr.bkt.clouddn.com/24.jpg) </center>


 Python是一种面向对象的解释型计算机程序设计语言。Python具有丰富和强大的库。它常被昵称为胶水语言，能够把用其他语言制作的各种模块（尤其是C/C++）很轻松地联结在一起。Python语言也有一系列的数据可视化包（packages），包括Pandas、Matplotlib、Seaborn、ggplot、Bokeh、Pygal等.

* D3.js

<center>  ![D3.js](http://oyrqaw6tr.bkt.clouddn.com/25.png) </center>


 D3.js是一个JavaScript库，它可以通过数据来操作文档。D3可以通过使用HTML、SVG和CSS把数据鲜活形象地展现出来。D3严格遵循Web标准，因而可以让你的程序轻松兼容现代主流浏览器并避免对特定框架的依赖。同时，它提供了强大的可视化组件，可以让使用者以数据驱动的方式去操作DOM。

 总的来说，D3是这样一个特殊的JavaScript库，它利用现有的Web标准，通过更简单的（数据驱动）方式来制作炫目的可视化效果。D3.js由Mike Bostock
[http://bost.ocks. org/mike/](http://bost.ocks. org/mike/)制作。之前他制作过一个叫Protovis的数据可视化JavaScript库，如今它已经被D3.js取代。如果想了解更多诸如D3.js制作过程、影响Protovis和D3.js的相关理论这类的信息，可以看看下面的链接。而本书将着眼于如何使用D3.js来增强可视化。D3使用JavaScript实现数据可视化的方式比较特别，因此刚开始时可能会让人觉得有些难懂。我希望通过本书中的大量实例，其中有基础的，也有高级的话题，能够帮助大家更好更高效地使用D3。一旦理解了原理，使用D3就可以让数据可视化的效率和丰富程度产生指数化的增长。

* Matlab

<center>  ![Matlab](http://oyrqaw6tr.bkt.clouddn.com/26.jpg) </center>


 MATLAB 是美国MathWorks公司出品的商业数学软件，用于算法开发、数据可视化、数据分析以及数值计算的高级技术计算语言和交互式环境，主要包括MATLAB和Simulink两大部分。

 MATLAB是matrix&laboratory两个词的组合，意为矩阵工厂（矩阵实验室）。是由美国mathworks公司发布的主要面对科学计算、可视化以及交互式程序设计的高科技计算环境。它将数值分析、矩阵计算、科学数据可视化以及非线性动态系统的建模和仿真等诸多强大功能集成在一个易于使用的视窗环境中，为科学研究、工程设计以及必须进行有效数值计算的众多科学领域提供了一种全面的解决方案，并在很大程度上摆脱了传统非交互式程序设计语言（如C、Fortran）的编辑模式，代表了当今国际科学计算软件的先进水平。

<font color=#a65bcb size=4>相关书籍</font>


* 《数据可视化之美》（Julie Steele / Noah Iliinsky ）

<center>  ![数据可视化之美](http://oyrqaw6tr.bkt.clouddn.com/27.jpg) </center>


 可视化是数据描述的图形表示，旨在一目了然地揭示数据中的复杂信息。可视化的典型如纽约地铁图和人脑图。成功的可视化的美丽之处既在于其艺术设计，也在于其通过对细节的优雅展示，能够有效地产生对数据的洞察和新的理解。


* 《鲜活的数据》（Nathan Yau ）

<center>  ![鲜活的数据](http://oyrqaw6tr.bkt.clouddn.com/28.jpg) </center>

 在生活中，数据几乎无处不在，任我们取用。然而，同样的数据给人的感觉可能会千差万别：或冰冷枯燥，让人望而生畏、百思不解其意；或生动有趣，让人一目了然、豁然开朗。为了达到后一种效果，我们需要采用一种特别的方式来展示数据，来解释、分析和应用它。这就是数据可视化技术。Nathan Yau是这一创新领域的先锋。在本书中，他根据数据可视化的工作流程，先后介绍了如何获取数据，将数据格式化，用可视化工具（如R）生成图表，以及在图形编辑软件（如Illustrator）中修改以使图表达到最佳效果。本书介绍了数十种方法（如柱形图、饼图、折线图和散点图等），以创造性的视觉方式生动讲述了有关数据的故事。

* 《数据可视化》（ 陈为 / 沈则潜 ）

<center>  ![数据可视化](http://oyrqaw6tr.bkt.clouddn.com/2929.jpg) </center>

 全书共有16 章，分为4 篇。基础篇，阐述数据可视化的基础理论和概念，从人的感知和认知出发，介绍数据模型和可视化基础；时空数据篇，介绍带有空间坐标或时间信息的数据的可视化方法，此类数据通过设备在真实物理空间中采集得到或由科学计算模拟产生；非时空数据篇，描述非结构化和非几何的抽象数据的可视化，这些数据既存在于真实物理空间，又是社会空间和网络信息空间的基本表达形式；用户篇，介绍面向各类数据的可视化在实际应用中共同需要的方法、技术和工具，例如交互和可视化评测方法，以及在具体领域的可视化和应用系统。

 本书从研究者的角度，介绍数据可视化的定义、方法、效用和工具，既可作为初学者的领路手册，也可用于可视化研究和可视化工具使用的参考指南。

* 《The Visual Display of Quantitative Information》（Edward R. Tufte ）


<center>  ![数据可视化](http://oyrqaw6tr.bkt.clouddn.com/3030.jpg) </center>

 这本书是一本关于统计图形、图表、表格的经典著作。本书将数据图表的理论于实践相结合，通过250张插图，统计图形，详细分析了如何显示数据，以便于精确、有效、快速地分析。

* 《最简单的图形与最复杂的信息》（黄慧敏 Dona M.Wong 
）


<center>  ![数据可视化](http://oyrqaw6tr.bkt.clouddn.com/31.jpg) </center>

 作者黄慧敏 Dona M.Wong是数据可视化权威爱德华?塔夫特（Edward Tufte）的学生，拥有耶鲁大学美术硕士学位，处理财金图表经验逾20年。主要侧重于对数据图表的修饰、完善，讲解了一些处理数据图表的基本原则，实操性很强。



